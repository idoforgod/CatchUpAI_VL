# 렌더링 기초 개념

## 렌더링이란?

Remotion Studio에서 보던 영상을 실제 MP4 파일로 변환하는 과정입니다.
내부적으로 Chrome Headless Shell이 각 프레임을 캡처하고, FFmpeg가 이를 영상으로 인코딩합니다.

```
React 컴포넌트 → Chrome Headless (프레임 캡처) → FFmpeg (인코딩) → MP4 파일
```

## 핵심 개념

### CRF (Constant Rate Factor)
- 영상 품질을 제어하는 값 (0~51)
- **낮을수록 고품질**, 파일 크기 증가
- 0 = 무손실 (파일 매우 큼)
- 18 = 시각적으로 무손실에 가까움 (권장)
- 23 = Remotion 기본값
- 28 = 화질 저하 눈에 띔
- 51 = 최저 품질

### 비트레이트 (Bitrate)
- 초당 데이터량 (bps, Mbps)
- CRF와 달리 **파일 크기를 예측** 가능
- YouTube 1080p 권장: **8-12 Mbps**
- `--video-bitrate="8M"` 으로 지정

### CRF vs 비트레이트
| 항목 | CRF | 비트레이트 |
|------|-----|-----------|
| 파일 크기 | 가변 (예측 어려움) | 고정 (예측 가능) |
| 품질 | 일정한 품질 유지 | 장면 복잡도에 따라 변동 |
| 용도 | 일반 렌더링 | YouTube 등 업로드용 |

> CRF와 비트레이트를 동시에 지정하면 비트레이트가 우선합니다.

### 코덱 (Codec)
| 코덱 | 포맷 | 호환성 | 용도 |
|------|------|--------|------|
| **H.264** | MP4 | 최고 | YouTube, 일반 배포 |
| H.265 | MP4 | 높음 | 고압축, 일부 기기 미지원 |
| VP8/VP9 | WebM | 중간 | 웹 전용 |
| ProRes | MOV | 편집용 | 후반 작업 (Mac) |

### FFmpeg
- Remotion이 내부적으로 사용하는 영상 인코딩 엔진
- 별도 설치 필요 (또는 시스템 PATH에 있어야 함)
- `ffmpeg -version` 으로 설치 확인

## 실습에서 확인한 결과

ChannelIntro (5초, 1920x1080, 30fps) 렌더링:

| 설정 | 파일 크기 | 기본 대비 |
|------|----------|----------|
| 기본 (CRF 23) | 2.2 MB | 기준 |
| CRF 18 | 2.2 MB | 동일 (단순 장면이라 차이 미미) |
| CRF 28 | 949 KB | -57% |
| 비트레이트 8Mbps | 4.8 MB | +118% |

> 단순한 모션그래픽은 CRF 변경에 따른 차이가 적음. 복잡한 실사 영상에서 차이가 더 큼.
